<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" data-bs-theme="dark">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cancel Appointment</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
	rel="stylesheet" 
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" 
	crossorigin="anonymous">
</head>

<body>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" 
	crossorigin="anonymous"></script>

	<header>

	</header>
	
	<main>
		<h1>Upcoming Appointments</h1>
		
		<div th:if="${appointments} eq null">
			<p>No appointments to cancel</p>
		</div>
		
		<div th:if="${appointments} neq null" th:each="appointment : ${appointments}">
			<p><strong>Appointment ID: </strong><span th:text="${appointment.appointmentID}"></span></p>
			<p><strong>Date: </strong><span th:text="${appointment.dateOfVisit}"></span></p>
			<p><strong>Time: </strong><span th:text="${appointment.timeOfVisit}"></span></p>
			<p><strong>Location: </strong><span th:text="${appointment.location}"></span></p>
			<br>
		</div>
		
		<div th:if="${appointments} neq null">
			<form method="post" action="cancel-an-appointment">
				<label>Select an appointment to cancel: </label>
				<span th:each="appointment : ${appointments}">
					<input type="radio" name="appointment-id" th:value="${appointment.appointmentID}" required/>
					<label th:text="${appointment.appointmentID}+': '+${appointment.dateOfVisit}+', ' +${appointment.timeOfVisit}+', '+${appointment.location}"></label> 
				</span>
				<br>
				
				<input type="submit" value="Delete appointment" />
			</form>
		</div>
	</main>

</body>
</html>